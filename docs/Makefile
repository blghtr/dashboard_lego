# Makefile for Dashboard Lego documentation

.PHONY: help clean html serve check

help:
	@echo "ğŸ“š Dashboard Lego Documentation"
	@echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
	@echo "Available commands:"
	@echo "  make clean    - Remove build artifacts"
	@echo "  make html     - Build HTML documentation"
	@echo "  make serve    - Build and serve docs at http://localhost:8000"
	@echo "  make check    - Check docs build without errors"
	@echo "  make all      - Clean and build documentation"

clean:
	@echo "ğŸ§¹ Cleaning build artifacts..."
	rm -rf build/
	@echo "âœ… Clean complete"

html:
	@echo "ğŸ”¨ Building HTML documentation..."
	uv run sphinx-build -b html source build
	@echo "âœ… Documentation built: docs/build/index.html"

check:
	@echo "ğŸ” Checking documentation build..."
	uv run sphinx-build -b html -W --keep-going source build
	@echo "âœ… Documentation check passed"

serve: html
	@echo "ğŸš€ Starting local server at http://localhost:8000"
	@echo "Press Ctrl+C to stop"
	cd build && python -m http.server 8000

all: clean html
	@echo "âœ… Documentation built successfully!"
	@echo "ğŸ“‚ Open docs/build/index.html in your browser"
